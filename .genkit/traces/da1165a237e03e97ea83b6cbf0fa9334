{"traceId":"da1165a237e03e97ea83b6cbf0fa9334","displayName":"action-execution","startTime":1757864798234.562,"endTime":1757864800130.946,"spans":{"5b84a7ba81ea5c52":{"spanId":"5b84a7ba81ea5c52","traceId":"da1165a237e03e97ea83b6cbf0fa9334","parentSpanId":"07fd6f64e50f4441","startTime":1757864798239.497,"endTime":1757864798240.755,"attributes":{"genkit:input":"{\"userQuery\":\"Find flight between tokyo and london with hotels\"}","genkit:metadata:subtype":"executable-prompt","genkit:name":"travelAgentPrompt","genkit:output":"{\"messages\":[{\"content\":[{\"text\":\"You are a professional and courteous travel agent assistant.\\n\\t\\t\\tYou have access to the following tools:\\n\\t\\t\\t- searchFlights: to find flights between two cities.\\n\\t\\t\\t- suggestHotel: to recommend a hotel in a specific city.\\n\\n\\t\\t\\tYour goal is to fulfill the user's travel request by intelligently using the tools at your disposal.\\n\\n\\t\\t\\t- If the user asks for a flight, use the searchFlights tool.\\n\\t\\t\\t- If the user asks for a hotel, use the suggestHotel tool.\\n\\t\\t\\t- If the user asks for both, you should call both tools sequentially or in parallel as needed.\\n\\t\\t\\t- If you are missing any information (e.g., a city or destination), you MUST ask the user for it.\\n\\t\\t\\t- If the user's request is not related to travel, respond politely that you can only help with travel-related queries.\"}],\"role\":\"system\"},{\"content\":[{\"text\":\"The user's request is: Find flight between tokyo and london with hotels\"}],\"role\":\"user\"}],\"output\":{\"constrained\":true},\"tools\":[\"searchFlights\",\"suggestHotel\"]}","genkit:path":"/{travelAgent,t:flow}/{travelAgentPrompt,t:action,s:executable-prompt}","genkit:state":"success","genkit:type":"action"},"displayName":"travelAgentPrompt","instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{}},"22059f5e3ccf4972":{"spanId":"22059f5e3ccf4972","traceId":"da1165a237e03e97ea83b6cbf0fa9334","parentSpanId":"760fd3042b5ce895","startTime":1757864798245.8728,"endTime":1757864800121.2058,"attributes":{"error.type":"503","http.request.method":"POST","http.response.status_code":503,"network.protocol.version":"1.1","server.address":"generativelanguage.googleapis.com","url.full":"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent"},"displayName":"HTTP POST","instrumentationLibrary":{"name":"go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp","version":"0.61.0"},"spanKind":"CLIENT","sameProcessAsParentSpan":{"value":true},"status":{"code":1},"timeEvents":{}},"760fd3042b5ce895":{"spanId":"760fd3042b5ce895","traceId":"da1165a237e03e97ea83b6cbf0fa9334","parentSpanId":"07fd6f64e50f4441","startTime":1757864798244.385,"endTime":1757864800126.055,"attributes":{"genkit:input":"{\"messages\":[{\"content\":[{\"text\":\"You are a professional and courteous travel agent assistant.\\n\\t\\t\\tYou have access to the following tools:\\n\\t\\t\\t- searchFlights: to find flights between two cities.\\n\\t\\t\\t- suggestHotel: to recommend a hotel in a specific city.\\n\\n\\t\\t\\tYour goal is to fulfill the user's travel request by intelligently using the tools at your disposal.\\n\\n\\t\\t\\t- If the user asks for a flight, use the searchFlights tool.\\n\\t\\t\\t- If the user asks for a hotel, use the suggestHotel tool.\\n\\t\\t\\t- If the user asks for both, you should call both tools sequentially or in parallel as needed.\\n\\t\\t\\t- If you are missing any information (e.g., a city or destination), you MUST ask the user for it.\\n\\t\\t\\t- If the user's request is not related to travel, respond politely that you can only help with travel-related queries.\"}],\"role\":\"system\"},{\"content\":[{\"text\":\"The user's request is: Find flight between tokyo and london with hotels\"}],\"role\":\"user\"}],\"output\":{\"contentType\":\"text/plain\"},\"tools\":[{\"description\":\"Searches for flights between a departure and arrival city.\",\"inputSchema\":{\"additionalProperties\":false,\"properties\":{\"arrival\":{\"type\":\"string\"},\"departure\":{\"type\":\"string\"}},\"required\":[\"departure\",\"arrival\"],\"type\":\"object\"},\"name\":\"searchFlights\",\"outputSchema\":{\"type\":\"string\"}},{\"description\":\"Suggests a popular and well-rated hotel in a given destination.\",\"inputSchema\":{\"additionalProperties\":false,\"properties\":{\"destination\":{\"type\":\"string\"}},\"required\":[\"destination\"],\"type\":\"object\"},\"name\":\"suggestHotel\",\"outputSchema\":{\"type\":\"string\"}}]}","genkit:isFailureSource":true,"genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.5-flash","genkit:path":"/{travelAgent,t:flow}/{googleai/gemini-2.5-flash,t:action,s:model}","genkit:state":"error","genkit:type":"action"},"displayName":"googleai/gemini-2.5-flash","instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":1,"message":"Error 503, Message: The model is overloaded. Please try again later., Status: UNAVAILABLE, Details: []"},"timeEvents":{"timeEvent":[{"time":1757864800126.2861,"annotation":{"attributes":{"exception.message":"Error 503, Message: The model is overloaded. Please try again later., Status: UNAVAILABLE, Details: []","exception.type":"google.golang.org/genai.APIError"},"description":"exception"}}]}},"07fd6f64e50f4441":{"spanId":"07fd6f64e50f4441","traceId":"da1165a237e03e97ea83b6cbf0fa9334","parentSpanId":"abc269e0028f65b8","startTime":1757864798239.303,"endTime":1757864800128.717,"attributes":{"genkit:input":"{\"userQuery\":\"Find flight between tokyo and london with hotels\"}","genkit:isFailureSource":true,"genkit:isRoot":true,"genkit:metadata:subtype":"flow","genkit:name":"travelAgent","genkit:path":"/{travelAgent,t:flow}","genkit:state":"error","genkit:type":"action"},"displayName":"travelAgent","instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":1,"message":"Error 503, Message: The model is overloaded. Please try again later., Status: UNAVAILABLE, Details: []"},"timeEvents":{"timeEvent":[{"time":1757864800128.996,"annotation":{"attributes":{"exception.message":"Error 503, Message: The model is overloaded. Please try again later., Status: UNAVAILABLE, Details: []","exception.type":"google.golang.org/genai.APIError"},"description":"exception"}}]}},"abc269e0028f65b8":{"spanId":"abc269e0028f65b8","traceId":"da1165a237e03e97ea83b6cbf0fa9334","startTime":1757864798234.562,"endTime":1757864800130.946,"attributes":{},"displayName":"action-execution","instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{}}}}